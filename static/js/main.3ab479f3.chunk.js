(this.webpackJsonptabulka_deploy=this.webpackJsonptabulka_deploy||[]).push([[0],{12:function(t,e,a){t.exports=a(21)},18:function(t,e,a){t.exports=a.p+"static/media/logo.5d5d9eef.svg"},19:function(t,e,a){},20:function(t,e,a){},21:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(11),i=a.n(o),s=a(7),c=a.n(s),u=a(9),l=a(1),p=a(2),h=a(5),v=a(4),d=a(3),k=(a(18),a(19),a(6)),b=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var t=this.props,e=t.bunkaHlavicky,a=t.ID_Radku+t.ID;return r.a.createElement("th",{key:a},e)}}]),a}(n.Component),m=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var t=this.props.vstup;this.bunky=[];var e,a=0,n=Object(k.a)(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;this.bunky.push(r.a.createElement(b,{bunkaHlavicky:o,ID_Radku:this.props.ID,ID:a})),a+=1}}catch(i){n.e(i)}finally{n.f()}return r.a.createElement("tr",{key:"Radek Hlavicky"},this.bunky)}}]),a}(n.Component),f=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){this.props.vstup;return r.a.createElement("thead",{key:"Hlavicka"},r.a.createElement(m,{vstup:this.props.vstup,ID:"_h"}))}}]),a}(n.Component),y=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var t=this.props,e=t.bunka,a=(t.ID_Radku,t.ID,this.props.ID_Radku+this.props.ID);return console.log("pisu v bunce ".concat(e,", ").concat(a)),r.a.createElement("td",{key:a},this.props.bunka)}}]),a}(n.Component),j=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var t=this;this.akce=this.props.akce;var e=this.props.ID_Radku;return this.classname=e+"_Button",r.a.createElement("td",{key:this.classname},r.a.createElement("button",{onClick:function(){return t.akce(e)}},this.props.popis))}}]),a}(n.Component),O=a(8),g=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var t=this.props,e=t.bunka,a=(t.ID_Radku,t.ID,this.props.ID_Radku+this.props.ID);return console.log("pisu v bunce ".concat(e,", ").concat(a)),r.a.createElement("td",{key:a},this.props.bunka)}}]),a}(n.Component),D=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={value:n.props.value},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"handleChange",value:function(t){var e=t.target.value;this.setState({value:e}),this.props.onChange(e)}},{key:"render",value:function(){var t=this.props,e=t.name,a=t.label;return r.a.createElement("label",{htmlFor:e},a,r.a.createElement("textarea",{id:e,type:"text",name:e,required:!0,value:this.state.value,onChange:this.handleChange}))}}]),a}(n.Component),E=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var t=this;this.akce=this.props.akce;var e=this.props.ID_Radku;return this.classname=e+"_Button",r.a.createElement("td",{key:this.classname},r.a.createElement("button",{onClick:function(){return t.akce(e)}},this.props.popis))}}]),a}(n.Component),z=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(t){var n;Object(l.a)(this,a),(n=e.call(this,t)).state={vstup:n.props.vstup,vystup:n.props.vstup};var r=function(t,e,a){var r,o=[];for(var i in n.state.vystup)i==e?o.push(a):o.push(n.state.vystup[i]);n.setState((r={},Object(O.a)(r,t,a),Object(O.a)(r,"vystup",o),r)),console.log("zapisuji stav ".concat(t,", ").concat(a," ").concat(e,", ").concat(o))};for(var o in n.handleChangeEdit=[],n.props.vstup)n.handleChangeEdit.push(r.bind(Object(h.a)(n),"zmena"+o.toString(),o));return n.ulozitEditaci=n.ulozitEditaci.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"render",value:function(){var t=this.props.ID;console.log("pisu v editoru ".concat(this.state.vystup));var e,a=[],n=[],o=0,i=r.a.createElement(g,{bunka:"",ID_Radku:t,ID:o}),s=Object(k.a)(this.state.vstup);try{for(s.s();!(e=s.n()).done;){var c=e.value;console.log("pisu v editoru ".concat(c)),i=0==o?r.a.createElement(g,{bunka:c,ID_Radku:t,ID:o}):r.a.createElement(g,{bunka:r.a.createElement(D,{name:o.toString(),label:"",value:this.state.vstup[o],onChange:this.handleChangeEdit[o]}),ID_Radku:t,ID:o}),console.log("kontrola zmeny, ".concat(o)),o+=1,a.push(i),n.push(i)}}catch(u){s.e(u)}finally{s.f()}return a.push(r.a.createElement(E,{ID_Radku:t,popis:"Ulo\u017eit",akce:this.ulozitEditaci}),r.a.createElement(E,{ID_Radku:t,popis:"Storno",akce:this.props.editovat})),a}},{key:"ulozitEditaci",value:function(){var t=this.state.vystup;console.log("ulozi edit v  radku ".concat(this.props.ID_Radku,", ").concat(t)),this.props.editRadku(this.props.ID_Radku,t),this.props.editovat()}}]),a}(n.Component),C=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={edit_ID:!1,ID:n.props.ID},n.editovat=n.editovat.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"render",value:function(){var t=this.props,e=t.vstup;t.ID;console.log("pisu ".concat(e));var a=[],n=1;if(n+=1,!1===this.state.edit_ID){var o,i=Object(k.a)(e);try{for(i.s();!(o=i.n()).done;){var s=o.value;console.log("pisu v poli ".concat(s)),a.push(r.a.createElement(y,{bunka:s,ID_Radku:this.props.ID,ID:n})),n+=1}}catch(c){i.e(c)}finally{i.f()}a.push(r.a.createElement(j,{ID_Radku:e[0],popis:"Smazat",akce:this.props.smazat}),r.a.createElement(j,{ID_Radku:this.props.ID,popis:"Editovat",akce:this.editovat}))}else a.push(r.a.createElement(z,{vstup:e,ID_Radku:this.props.ID,ID:n,editovat:this.editovat,editRadku:this.props.editovat}));return a}},{key:"editovat",value:function(){console.log("editace ".concat(this.ID));var t=!0;t=1!=this.state.edit_ID,this.setState({edit_ID:this.state.edit_ID=t})}}]),a}(n.Component),I=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var t=this.props,e=t.poleBunek,a=t.ID;return r.a.createElement("tr",{key:a},e)}}]),a}(n.Component),S=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={editRadku:null},n}return Object(p.a)(a,[{key:"render",value:function(){var t,e=this.props.vstup,a=[],n=1,o=Object(k.a)(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;a.push(r.a.createElement(I,{poleBunek:r.a.createElement(C,{vstup:i,ID:n,smazat:this.props.smazat,editovat:this.props.editovat}),ID:n})),n+=1}}catch(s){o.e(s)}finally{o.f()}return r.a.createElement("tbody",{key:"TeloTabulky"},a)}}]),a}(n.Component),_=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={value:n.props.value},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"handleChange",value:function(t){var e=t.target.value;this.setState({value:e}),this.props.onChange(e)}},{key:"render",value:function(){var t=this.props,e=t.name,a=t.label;return r.a.createElement("label",{htmlFor:e},a,r.a.createElement("input",{id:e,type:"text",name:e,required:!0,value:this.state.value,onChange:this.handleChange}))}}]),a}(n.Component),R=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={value:n.props.value},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"handleChange",value:function(t){var e=t.target.value;this.setState({value:e}),this.props.onChange(e)}},{key:"render",value:function(){var t=this.props,e=t.name,a=t.label;return r.a.createElement("label",{htmlFor:e},a,r.a.createElement("textarea",{id:e,type:"text",name:e,required:!0,value:this.state.value,onChange:this.handleChange}))}}]),a}(n.Component),F=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(t){var n;Object(l.a)(this,a),(n=e.call(this,t)).state={vstup:n.props.hlavicka,vystup:n.props.hlavicka,radek:null};var r=function(t,e,a){var r,o,i=[],s=0,c=Object(k.a)(n.props.hlavicka);try{for(c.s();!(o=c.n()).done;){o.value==e?i.push(a):i.push(n.state.vystup[s]),s++}}catch(u){c.e(u)}finally{c.f()}n.setState((r={},Object(O.a)(r,t,a),Object(O.a)(r,"vystup",i),r)),console.log("zapisuji stav ".concat(n.state.vystup))};n.handleChangeEdit=[];var o,i=Object(k.a)(n.props.hlavicka);try{for(i.s();!(o=i.n()).done;){var s=o.value;n.handleChangeEdit.push(r.bind(Object(h.a)(n),"zmena"+s.toString(),s))}}catch(c){i.e(c)}finally{i.f()}return n.ulozitUzivatele=n.ulozitUzivatele.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"handleSubmit",value:function(t){t.preventDefault();var e=[];for(var a in this.state.vystup)a>0&&e.push(this.state.vystup[a]);console.log("pridam v handle submit ".concat(e)),this.props.pridej(e)}},{key:"ulozitUzivatele",value:function(){var t=this.state.vystup;console.log("ulozi novy radek ".concat(t)),this.props.editRadku(this.props.ID_Radku,t),this.props.editovat()}},{key:"render",value:function(){console.log("zapisuji hlavicku ".concat(this.props.hlavicka,",\n        \t\t\t\t\t\t\t\t vstup:").concat(this.state.vstup,",\n        \t\t\t\t\t\t\t\t vystup:").concat(this.state.vystup," "));var t,e=[],a=0,n=Object(k.a)(this.props.hlavicka);try{for(n.s();!(t=n.n()).done;){var o=t.value;"ID"!=o&&("Vzkaz"!=o?e.push(r.a.createElement(_,{name:o,label:o,value:this.state.vstup[a],onChange:this.handleChangeEdit[a]}),r.a.createElement("br",null)):e.push(r.a.createElement(R,{name:o,label:o,value:this.state.vstup[a],onChange:this.handleChangeEdit[a]}),r.a.createElement("br",null))),a++}}catch(i){n.e(i)}finally{n.f()}return r.a.createElement("form",{className:"addUserForm",onSubmit:this.handleSubmit},e,r.a.createElement("input",{type:"submit",value:"Ulo\u017e"}))}}]),a}(n.Component),U=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var t=this;this.formPridat=null;var e="P\u0159idat Vzkaz";return!0===this.props.ukazForm&&(this.formPridat=r.a.createElement(F,{pridej:this.props.pridatFunkce,hlavicka:this.props.hlavicka}),e="Schovat formul\xe1\u0159"),console.log("pisuVtabulce ".concat(this.props.telo)),console.log("pisuVtabulce ".concat(this.props.hlavicka)),r.a.createElement("div",{className:"tabulka_blok"},r.a.createElement("h1",{id:"title"}),r.a.createElement("button",{onClick:function(){return t.props.formFunkce()}},e),this.formPridat,r.a.createElement("table",{id:"table"},r.a.createElement(f,{vstup:this.props.hlavicka}),r.a.createElement(S,{vstup:this.props.telo,smazat:this.props.smazat,editovat:this.props.editFunkce})))}}]),a}(n.Component),x=function(t){Object(v.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={hlavicka:["ID","Jm\xe9no","Titulek","Vzkaz"],vstup:[],fetchData:[],loading:!0,ukazFormPromenna:!1,novyUzivatel:null,cisloStranky:1,postId:null},n.novyUz=function(t){n.setState({novyUzivatel:t})},n.removeRadek=n.removeRadek.bind(Object(h.a)(n)),n.ukazFormFunkce=n.ukazFormFunkce.bind(Object(h.a)(n)),n.pridejUzivatele=n.pridejUzivatele.bind(Object(h.a)(n)),n.editUzivatele=n.editUzivatele.bind(Object(h.a)(n)),n.definujStranku=n.definujStranku.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"apiUrl",value:function(){this.state.cisloStranky;console.log("aktualni stranka ".concat(this.state.cisloStranky));return"https://morning-garden-97487.herokuapp.com/api/note/?order_by=-id"}},{key:"fetchData",value:function(){var t=Object(u.a)(c.a.mark((function t(){var e,a,n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.apiUrl(),fetch(e,{mode:"cors",headers:{Authorization:"","Content-Type":"application/json"}}).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(){return console.log("Can\u2019t access "+e+" response. Blocked by browser?")})),t.next=4,fetch(e);case 4:return a=t.sent,console.log("data from "+e),t.next=8,a.json();case 8:n=t.sent,r=n.objects.map((function(t){return[t.id,t.name,t.title,t.body]})),this.setState({vstup:r,fetchData:n,loading:!1});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"editRadekDB",value:function(){var t=Object(u.a)(c.a.mark((function t(e){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e[0],n={id:a,name:e[1],title:e[2],body:e[3]},console.log("edituji v databazi ".concat(a)),t.next=5,fetch("https://morning-garden-97487.herokuapp.com/api/note/"+a.toString()+"/",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"postMethod2",value:function(t){fetch("https://morning-garden-97487.herokuapp.com/api/note/",{method:"POST",headers:{Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"},mode:"cors",body:JSON.stringify({name:t[0],title:t[1],body:t[2]})}).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("Error detected: "+t)}))}},{key:"deleteFromDB",value:function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(" https://morning-garden-97487.herokuapp.com/api/note/".concat(e),{method:"DELETE",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:this.fetchData();case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){if(this.state.loading)return r.a.createElement("div",null,"loading data...");if(!this.state.fetchData)return r.a.createElement("div",null,"didnt get data");console.log(this.state.vstup);var t=r.a.createElement(U,{hlavicka:this.state.hlavicka,telo:this.state.vstup,smazat:this.removeRadek,ukazForm:this.state.ukazFormPromenna,formFunkce:this.ukazFormFunkce,pridatFunkce:this.pridejUzivatele,editFunkce:this.editUzivatele,cisloStranky:this.state.cisloStranky});return r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement("h2",{id:"title"},"Vzkazovn\xed\u010dek")),t)}},{key:"removeRadek",value:function(t){this.deleteFromDB(t),this.fetchData(),console.log("ma\u017eu ted ".concat(t))}},{key:"editUzivatele",value:function(t,e){console.log("edituji ted ".concat(t)),this.editRadekDB(e),this.fetchData(),console.log("edituji ted ".concat(t))}},{key:"ukazFormFunkce",value:function(){var t=!1;0==this.state.ukazFormPromenna&&(t=!0),this.setState({ukazFormPridat:this.state.ukazFormPromenna=t}),console.log("ukazu formular")}},{key:"pridejUzivatele",value:function(t){console.log("pridam ve vstupu ".concat(t)),this.postMethod2(t),console.log("pridam do databaze ".concat(t)),this.fetchData()}},{key:"definujStranku",value:function(t){this.setState({cisloStranky:this.state.cisloStranky=t}),this.fetchData(),console.log("aktualni stranka ".concat(this.state.cisloStranky))}}]),a}(r.a.Component);a(20);i.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.3ab479f3.chunk.js.map